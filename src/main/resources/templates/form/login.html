<!-- COPYRIGHT 2018 FUJITSU
Author : FCIPL
Date : 2018/08/13 -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script type="text/javascript" charset="UTF-8"
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" charset="UTF-8" src="/js/login.js"></script>
<script type="text/javascript" charset="UTF-8"
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script type="text/javascript" charset="UTF-8" src="/js/model-dialog.js"></script>
<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="/css/login.css" />

<title>ログイン</title>
</head>
<body>
	<form th:action="@{/menu}" th:object="${loginForm}" method="post"
		onsubmit="return validateUsernamePassword()">
		<div class="container">
			<div class="header">
				<label class="title">システム開発支援ツール</label>
			</div>
			<div class="mainbody">
				<div class="username-div">
					<label class="username-label">ユーザー名</label> <input type="text"
						id="username_id" class="form-control username-input"
						name="username"></input>
				</div>
				<div class="password-div">
					<label class="password-label">パスワード</label> <input type="password"
						id="password_id" class="form-control password-input"
						name="password"></input>
				</div>
			</div>
			<div class="footer">
				<button class='btn btn-primary login-button' type="submit">ログイン</button>
			</div>


		</div>
	</form>
</body>
<script th:inline="javascript">
	 $(document).ready(function() {	
	     focusUser();
		 var isValidCredential =  [[${invalidCredentials}]];
		 
		 if(isValidCredential){
			
			 showDialogAndInvokeFunc('認証エラー',
					 modalDialogConfig.messageTypes.warning,
					 'ユーザー名またはパスワードが違います。<br>確認のうえ再実行してください。',
					 modalDialogConfig.buttonTypes.OK,
					 'redirectToLogin',
					 '');
			 
			
		 }		
	 });
	 
	 function redirectToLogin(){
		 window.location.replace("\login");		 
	 }

</script>
</html>